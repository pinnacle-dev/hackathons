version: v2
name: hackathons
services:
- name: arxiv-form
  run: bash ./21102024-ArXiv/web/start.sh
  type: web
  instances: 1
  cpuCores: 0.16
  ramMegabytes: 300
  terminationGracePeriodSeconds: 30
  port: 3000
  sleep: false
  domains:
      - name: hackathons.trypinnacle.app/arxiv
- name: arxiv-listener
  run: python3 ./21102024-ArXiv/server/rcs/start.sh
  type: web
  instances: 1
  cpuCores: 0.16
  ramMegabytes: 300
  terminationGracePeriodSeconds: 30
  port: 8000
  sleep: false
  domains:
      - name: hackathons.trypinnacle.app/arxiv-listener
- name: general-rcs
  run: python3 ./send_rcs_message/start.sh
  type: web
  instances: 1
  cpuCores: 0.16
  ramMegabytes: 300
  terminationGracePeriodSeconds: 30
  port: 8000
  private: true
  sleep: false
  domains:
      - name: hackathons.trypinnacle.app/general-rcs
- name: rocket
  run: python3 ./rocket/start.sh
  type: web
  instances: 1
  cpuCores: 0.16
  ramMegabytes: 300
  terminationGracePeriodSeconds: 30
  port: 8000
  private: true
  sleep: false
  domains:
      - name: hackathons.trypinnacle.app/rocket
- name: arxiv-worker
  run: python3 ./21102024-ArXiv/server/arxiv/start.sh
  type: job
  cpuCores: 0.16
  ramMegabytes: 300
  terminationGracePeriodSeconds: 30
  cron: "0 0 * * *\t"
  timeoutSeconds: 3600
  sleep: false
build:
  context: ./
  method: docker
  dockerfile: ./Dockerfile
autoRollback:
  enabled: false
